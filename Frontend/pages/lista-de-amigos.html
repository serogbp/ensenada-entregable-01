<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Lista de amigos</title>
		<link rel="stylesheet" href="../public/css/bootstrap.css" />
		<link rel="stylesheet" href="../public/css/global.css" />
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css" />
		<link rel="stylesheet" href="../public/css/feed.css" />
		<script src="../public/js/bootstrap.bundle.js"></script>
	</head>

	<body class="d-flex flex-column min-vh-100 bg-light">
		<!-- Header -->
		<header class="sticky-top shadow-sm">
			<nav class="navbar navbar-expand-md bg-white">
				<div class="container-fluid">
					<a class="navbar-brand font-family--jetbrains-mono" href="#"
						><!-- LOGO -->
						<strong>//TECLA</strong>_SOCIAL
					</a>
					<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
						<span class="navbar-toggler-icon"></span>
					</button>
					<div class="collapse navbar-collapse justify-content-end" id="navbarSupportedContent">
						<div class="text-start d-md-none mt-4 overflow-scroll">
							<!-- Lista -->
							<ul class="nav-list list-unstyled card">
								<p class="h5 mb-1 font-family--jetbrains-mono">Enlaces</p>
								<a href="/pages/feed.html">
									<li>🧾 Feed</li>
								</a>
								<a href="/pages/perfil-de-usuario.html">
									<li>🏠 Mi perfil</li>
								</a>
								<a href="/pages/lista-de-amigos.html">
									<li>💃 Amigos</li>
								</a>
								<li>📜 Anuncios</li>
								<li>🎙 Podcast</li>
								<li>🔑 Tags</li>
								<li>📊 Noticias</li>
								<li>💡 FAQ</li>
								<li>💬 Publicaciones</li>
								<li>📖 Guías</li>
							</ul>
						</div>
						<form class="d-flex" role="search">
							<input class="form-control me-2" type="search" placeholder="Buscar" aria-label="Buscar" />
							<button class="btn btn-outline-success" type="submit">Buscar</button>
						</form>
					</div>
				</div>
			</nav>
		</header>

		<!-- Main content -->
		<main class="d-flex gap-3 p-3 justify-content-center flex-grow-1">
			<!-- 🔴 Left Nav Bar -->
			<div class="left-column d-none d-md-flex justify-content-end">
				<div class="text-start">
					<!-- Lista -->
					<ul class="nav-list list-unstyled card">
						<p class="h5 mb-1 font-family--jetbrains-mono">Enlaces</p>
						<a href="/pages/feed.html">
							<li>🧾 Feed</li>
						</a>
						<a href="/pages/perfil-de-usuario.html">
							<li>🏠 Mi perfil</li>
						</a>
						<a href="/pages/lista-de-amigos.html">
							<li>💃 Amigos</li>
						</a>
						<li>📜 Anuncios</li>
						<li>🎙 Podcast</li>
						<li>🔑 Tags</li>
						<li>📊 Noticias</li>
						<li>💡 FAQ</li>
						<li>💬 Publicaciones</li>
						<li>📖 Guías</li>
					</ul>
					<!-- Lista -->
					<ul class="nav-list list-unstyled card">
						<p class="h5 mb-1 font-family--jetbrains-mono">Otros</p>
						<li>👍 Código de conducta</li>
						<li>🤓 Política de privacidad</li>
						<li>👀 Términos de uso</li>
					</ul>
				</div>
			</div>

			<!-- 🔴 Lista amigos -->
			<div class="middle-column d-flex flex-column gap-3">
				<div>
					<label for="sort-type" class="text-stone-50">Ordenar por:</label>
					<select id="sort-type" name="sort-type" class="rounded p-1">
						<option value="manual">Orden de llegada</option>
						<option value="name">Nombre</option>
						<option value="username">Username</option>
					</select>
				</div>
				<div id="friend-list-wrapper" class="d-flex flex-wrap gap-3"></div>
				<p class="h3 mb-1 font-family--jetbrains-mono">Sugerencias de amistad</p>
				<div id="no-friend-list-wrapper" class="d-flex flex-wrap gap-3"></div>
			</div>
		</main>

		<footer class="d-flex p-4 bg-black text-white">
			<p class="h4 font-family--jetbrains-mono"><strong>//TECLA</strong>_SOCIAL</p>
		</footer>

		<!-- Bottom Nav bar 📱 -->
		<div class="position-sticky fixed-bottom d-flex justify-content-around bg-tecla-blue d-lg-none px-4 py-2">
			<a href="/pages/feed.html"><i class="icon icon--white bi bi-house-fill"></i></a>
			<a href="/pages/lista-de-amigos.html"><i class="icon icon--white bi bi-people-fill"></i></a>
			<a href="/pages/perfil-de-usuario.html"><img class="icon rounded-circle" src="/public/images/profile-icon.jpg" alt="Usuario" /></a>
		</div>

		<script type="module">
			import { updateSortType, fetchFriends } from "../public/js/model/friend.js";
			import { fetchNoFriends } from "../public/js/model/noFriend.js";

			document.getElementById("sort-type").addEventListener("change", (e) => {
				updateSortType(e.target.value);
			});

			fetchFriends();
			fetchNoFriends();
		</script>
	</body>
</html>
